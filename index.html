<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–ì–æ—Ä—è—â–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ñ–æ–Ω–µ</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=Rubik+Burned&display=swap" rel="stylesheet">

    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Creepster', cursive;
        }

        #bg-video {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        #overlay-text {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff2a00;
            font-size: 5.8vw;
            text-align: center;
            pointer-events: none;
            z-index: 10;
            text-shadow: 0 0 10px #ff4500, 0 0 30px #ff0000, 0 0 60px #ff0000, 0 0 100px #8b0000;
            -webkit-text-stroke: 1.5px #000;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        #overlay-text.blink {
            animation: blink 1.5s infinite alternate;
        }

        @keyframes blink {
            0%   { opacity: 0.3; transform: scale(0.97); }
            100% { opacity: 1.0; transform: scale(1.03); }
        }

        /* –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ */
        #sound-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 20;
            background: rgba(0,0,0,0.7);
            color: #ff2a00;
            border: 2px solid #ff4500;
            padding: 12px 20px;
            font-family: 'Creepster', cursive;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 8px;
            text-shadow: 0 0 8px #ff0000;
            transition: all 0.3s;
        }
        #sound-btn:hover {
            background: #ff4500;
            color: #000;
            box-shadow: 0 0 20px #ff0000;
        }
    </style>
</head>
<body>

<video id="bg-video" autoplay loop playsinline poster="poster.jpg">
    <source src="wideo.mp4" type="video/mp4">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
</video>

<div id="overlay-text">
    –ù–ï –û–¢–ö–†–´–í–ê–ô–¢–ï<br>üî• –°–¢–†–ê–ù–ù–´–ï –°–°–´–õ–ö–ò üî•
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ -->
<button id="sound-btn">üîá –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫</button>

<script>
// –ù–ê–°–¢–†–û–ô–ö–ò
const SETTINGS = {
    firstAppearDelay: 5,
    visibleDuration: 12,
};

const video = document.getElementById('bg-video');
const text  = document.getElementById('overlay-text');
const soundBtn = document.getElementById('sound-btn');

let isVisible = false;

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞
function toggleSound() {
    video.muted = !video.muted;
    soundBtn.textContent = video.muted ? 'üîá –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫' : 'üîä –í—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫';
    soundBtn.style.background = video.muted ? 'rgba(0,0,0,0.7)' : '#ff4500';
}

// –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ
soundBtn.addEventListener('click', toggleSound);

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞–µ–º —Å –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –∑–≤—É–∫–∞
video.muted = true;

// –õ–æ–≥–∏–∫–∞ —Ç–µ–∫—Å—Ç–∞
function updateText() {
    const t = video.currentTime;
    if (t >= SETTINGS.firstAppearDelay && t < SETTINGS.firstAppearDelay + SETTINGS.visibleDuration) {
        if (!isVisible) {
            text.style.opacity = '1';
            text.classList.add('blink');
            isVisible = true;
        }
    } else {
        if (isVisible) {
            text.style.opacity = '0';
            text.classList.remove('blink');
            isVisible = false;
        }
    }
}

video.addEventListener('timeupdate', updateText);

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–Ω–∞ —Å–ª—É—á–∞–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ autoplay)
video.play().catch(() => {
    // –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç, –∫–Ω–æ–ø–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
});

// –ú–æ–±–∏–ª—å–Ω—ã–µ —Ç–∞—á
document.body.addEventListener('touchstart', () => video.play(), { once: true });
</script>
</body>
</html>